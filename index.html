<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>asyncio</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="hovercraft.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress"><div class="step" step="0" data-x="0" data-y="0"><h1 id="asyncio">Asyncio</h1></div><div class="step" step="1" data-x="1600" data-y="0"><h1 id="standard">Standard</h1><div class="notes"><ul><li>short scripts</li><li>your service binding</li><li>selectors</li></ul></div></div><div class="step" step="2" data-x="3200" data-y="0"><h1 id="yield-points">Yield Points</h1></div><div class="step" step="3" data-x="4800" data-y="0"><pre class="highlight code python"><span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">transfer</span><span class="p">(</span><span class="n">amount</span><span class="p">,</span> <span class="n">payer</span><span class="p">,</span> <span class="n">payee</span><span class="p">,</span> <span class="n">server</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">payer</span><span class="o">.</span><span class="n">sufficient_funds_for_withdrawl</span><span class="p">(</span><span class="n">amount</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InsufficientFunds</span><span class="p">()</span>
    <span class="n">log</span><span class="p">(</span><span class="s">"{payer} has sufficient funds."</span><span class="p">,</span> <span class="n">payer</span><span class="o">=</span><span class="n">payer</span><span class="p">)</span>
    <span class="n">payee</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
    <span class="n">log</span><span class="p">(</span><span class="s">"{payee} received payment"</span><span class="p">,</span> <span class="n">payee</span><span class="o">=</span><span class="n">payee</span><span class="p">)</span>
    <span class="n">payer</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
    <span class="n">log</span><span class="p">(</span><span class="s">"{payer} made payment"</span><span class="p">,</span> <span class="n">payer</span><span class="o">=</span><span class="n">payer</span><span class="p">)</span>
    <span class="k">yield from</span> <span class="n">server</span><span class="o">.</span><span class="n">update_balances</span><span class="p">([</span><span class="n">payer</span><span class="p">,</span> <span class="n">payee</span><span class="p">])</span></pre></div><div class="step" step="4" data-x="6400" data-y="0"><img src="van_rossum.png" alt="" width="" height=""></img></div><div class="step" step="5" data-x="8000" data-y="0"><p>Using gevent:</p><pre class="highlight code python"><span class="k">def</span> <span class="nf">transfer</span><span class="p">(</span><span class="n">amount</span><span class="p">,</span> <span class="n">payer</span><span class="p">,</span> <span class="n">payee</span><span class="p">,</span> <span class="n">server</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">payee</span><span class="o">.</span><span class="n">lock_deposit</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">payer</span><span class="o">.</span><span class="n">sufficient_funds_for_withdrawl</span><span class="p">(</span><span class="n">amount</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">InsufficientFunds</span><span class="p">()</span>
        <span class="n">payee</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
        <span class="n">payer</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
        <span class="n">server</span><span class="o">.</span><span class="n">update_balances</span><span class="p">([</span><span class="n">payer</span><span class="p">,</span> <span class="n">payee</span><span class="p">])</span>
    <span class="n">log</span><span class="p">(</span><span class="s">"{payer} has sufficient funds."</span><span class="p">,</span> <span class="n">payer</span><span class="o">=</span><span class="n">payer</span><span class="p">)</span>
    <span class="n">log</span><span class="p">(</span><span class="s">"{payee} received payment"</span><span class="p">,</span> <span class="n">payee</span><span class="o">=</span><span class="n">payee</span><span class="p">)</span>
    <span class="n">log</span><span class="p">(</span><span class="s">"{payer} made payment"</span><span class="p">,</span> <span class="n">payer</span><span class="o">=</span><span class="n">payer</span><span class="p">)</span></pre></div><div class="step" step="6" data-x="9600" data-y="0"><p>Using asyncio:</p><pre class="highlight code python"><span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">transfer</span><span class="p">(</span><span class="n">amount</span><span class="p">,</span> <span class="n">payer</span><span class="p">,</span> <span class="n">payee</span><span class="p">,</span> <span class="n">server</span><span class="p">):</span>
    <span class="c"># WARNING! WARNING! WARNING!</span>
    <span class="c"># Do not insert yield points between following lines</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">payer</span><span class="o">.</span><span class="n">sufficient_funds_for_withdrawl</span><span class="p">(</span><span class="n">amount</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InsufficientFunds</span><span class="p">()</span>
    <span class="n">payee</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
    <span class="n">payer</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
    <span class="k">yield from</span> <span class="n">server</span><span class="o">.</span><span class="n">update_balances</span><span class="p">([</span><span class="n">payer</span><span class="p">,</span> <span class="n">payee</span><span class="p">])</span>
    <span class="c"># End of careful code block</span>
    <span class="n">log</span><span class="p">(</span><span class="s">"{payer} has sufficient funds."</span><span class="p">,</span> <span class="n">payer</span><span class="o">=</span><span class="n">payer</span><span class="p">)</span>
    <span class="n">log</span><span class="p">(</span><span class="s">"{payee} received payment"</span><span class="p">,</span> <span class="n">payee</span><span class="o">=</span><span class="n">payee</span><span class="p">)</span>
    <span class="n">log</span><span class="p">(</span><span class="s">"{payer} made payment"</span><span class="p">,</span> <span class="n">payer</span><span class="o">=</span><span class="n">payer</span><span class="p">)</span></pre></div><div class="step" step="7" data-x="11200" data-y="0"><p>Exceptions:</p><pre class="highlight code python"><span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">transfer</span><span class="p">(</span><span class="n">amount</span><span class="p">,</span> <span class="n">payer</span><span class="p">,</span> <span class="n">payee</span><span class="p">,</span> <span class="n">server</span><span class="p">):</span>
    <span class="c"># WARNING! WARNING! WARNING!</span>
    <span class="c"># Do not insert yield points between following lines</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">payer</span><span class="o">.</span><span class="n">sufficient_funds_for_withdrawl</span><span class="p">(</span><span class="n">amount</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InsufficientFunds</span><span class="p">()</span>
    <span class="n">payee</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
    <span class="n">currency_rate</span> <span class="o">=</span> <span class="n">get_currency_rate</span><span class="p">()</span>
    <span class="n">payer</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="n">amount</span><span class="o">/</span><span class="n">currency_rate</span><span class="p">)</span>  <span class="c"># !!!</span>
    <span class="k">yield from</span> <span class="n">server</span><span class="o">.</span><span class="n">update_balances</span><span class="p">([</span><span class="n">payer</span><span class="p">,</span> <span class="n">payee</span><span class="p">])</span>
    <span class="c"># End of careful code block</span></pre></div><div class="step" step="8" data-x="12800" data-y="0"><h1 id="pipelining">Pipelining</h1></div><div class="step" step="9" data-x="14400" data-y="0"><p>gevent code:</p><pre class="highlight code python"><span class="k">def</span> <span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span></pre></div><div class="step" step="10" data-x="16000" data-y="0"><p>asyncio code:</p><pre class="highlight code python"><span class="c"># not-a-coroutine</span>
<span class="k">def</span> <span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>  <span class="c"># (!)this is not-yielding</span>
    <span class="n">fut</span> <span class="o">=</span> <span class="n">Future</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fut</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fut</span></pre></div><div class="step" step="11" data-x="17600" data-y="0"><p>asyncio response reader:</p><pre class="highlight code python"><span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">reader</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">line</span><span class="p">)</span></pre></div><div class="step" step="12" data-x="19200" data-y="0"><p>asyncio bad example:</p><pre class="highlight code python"><span class="c"># not-a-coroutine</span>
<span class="k">def</span> <span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">drain</span><span class="p">()</span>
    <span class="n">value</span> <span class="o">=</span> <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">value</span></pre></div><div class="step" step="13" data-x="20800" data-y="0"><p>another awful example:</p><pre class="highlight code python"><span class="c"># not-a-coroutine</span>
<span class="k">def</span> <span class="nf">do_something</span><span class="p">(</span><span class="n">redis</span><span class="p">);</span>
    <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="n">multi</span><span class="p">()</span>
    <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">)</span>
    <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">'c'</span><span class="p">,</span> <span class="s">'d'</span><span class="p">)</span>
    <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="k">exec</span><span class="p">()</span></pre></div><div class="step" step="14" data-x="22400" data-y="0"><p>why this is bad:</p><pre class="highlight code python"><span class="c"># not-a-coroutine</span>
<span class="k">def</span> <span class="nf">update_price</span><span class="p">(</span><span class="n">redis</span><span class="p">,</span> <span class="n">dollars</span><span class="p">,</span> <span class="n">rate</span><span class="p">);</span>
    <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="n">multi</span><span class="p">()</span>
    <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">'price_dollars'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">dollars</span><span class="p">))</span>
    <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">'price_uah'</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">dollars</span><span class="o">/</span><span class="n">rate</span><span class="p">))</span> <span class="c"># rate = 0 ??</span>
    <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="k">exec</span><span class="p">()</span></pre></div><div class="step" step="15" data-x="24000" data-y="0"><p>locks in asyncio:</p><pre class="highlight code python"><span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">something</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="p">(</span><span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">()):</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">do_work_during_lock</span><span class="p">()</span>
    <span class="c"># The following is executed concurrently with self.release()</span>
    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">do_work_after_lock</span><span class="p">()</span></pre></div><div class="step" step="16" data-x="25600" data-y="0"><p>lock implementation:</p><pre class="highlight code python"><span class="c"># not-a-couroutine</span>
<span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">et</span><span class="p">,</span> <span class="n">ev</span><span class="p">,</span> <span class="n">tb</span><span class="p">):</span>
    <span class="n">Task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">release</span><span class="p">())</span></pre></div><div class="step" step="17" data-x="27200" data-y="0"><p>bad implementation of release():</p><pre class="highlight code python"><span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">release</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_request</span><span class="p">()</span></pre></div><div class="step" step="18" data-x="28800" data-y="0"><p>good implementation of release():</p><pre class="highlight code python"><span class="c"># not-a-couroutine</span>
<span class="k">def</span> <span class="nf">release</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">transport</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">release_request</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">requests</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">Future</span><span class="p">())</span></pre></div><div class="step" step="19" data-x="30400" data-y="0"><h1 id="problems-with-asyncio">Problems with Asyncio</h1></div><div class="step" step="20" data-x="32000" data-y="0"><h1 id="can-t-use-generators">Can't use generators</h1></div><div class="step" step="21" data-x="33600" data-y="0"><pre class="highlight code python"><span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">get_items</span><span class="p">():</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="k">yield from</span> <span class="n">request</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">resp</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
        <span class="k">yield</span> <span class="n">line</span></pre></div><div class="step" step="22" data-x="35200" data-y="0"><p>Use list:</p><pre class="highlight code python"><span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">get_items</span><span class="p">():</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="k">yield from</span> <span class="n">request</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">splitlines</span><span class="p">())</span></pre></div><div class="step" step="23" data-x="36800" data-y="0"><p>But not list comprehensions:</p><pre class="highlight code python"><span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">get_urls</span><span class="p">(</span><span class="n">urls</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[(</span><span class="k">yield from</span> <span class="n">request</span><span class="p">(</span><span class="n">url</span><span class="p">))</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">urls</span><span class="p">]</span></pre></div><div class="step" step="24" data-x="38400" data-y="0"><p>"yield from" comprehensions:</p><pre class="highlight code pycon"><span class="p"></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="k">yield from</span> <span class="s">''</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="s">''</span><span class="p">]</span>
<span class="go">&lt;generator object &lt;listcomp&gt; at 0x7f5dbb02ecf0&gt;
</span><span class="nb"></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">((</span><span class="k">yield from</span> <span class="s">'ab'</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="s">'cd'</span><span class="p">)</span>
<span class="go">['a', 'b', None, 'a', 'b', None]
</span><span class="nb"></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">({(</span><span class="k">yield from</span> <span class="s">'ab'</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="s">'cd'</span><span class="p">})</span>
<span class="go">['a', 'b', 'a', 'b']
</span><span class="nb"></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">({</span><span class="n">a</span><span class="p">:</span> <span class="p">(</span><span class="k">yield from</span> <span class="s">'ab'</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="s">'cd'</span><span class="p">})</span>
<span class="go">['a', 'b', 'a', 'b']
</span><span class="nb"></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="k">yield from</span> <span class="s">'ab'</span><span class="p">))</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="s">'cd'</span><span class="p">)</span>
<span class="go">['a', 'b', ('c', None), 'a', 'b', ('d', None)]</span></pre></div><div class="step" step="25" data-x="40000" data-y="0"><p>yield list of coroutines:</p><pre class="highlight code python"><span class="c"># not-a-coroutine</span>
<span class="k">def</span> <span class="nf">get_lines</span><span class="p">()</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">request</span><span class="p">()</span>

<span class="nd">@coroutine</span>
<span class="k">def</span> <span class="nf">function</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">fut</span> <span class="ow">in</span> <span class="n">get_lines</span><span class="p">():</span>
        <span class="n">line</span> <span class="o">=</span> <span class="k">yield from</span> <span class="n">fut</span><span class="p">()</span></pre></div><div class="step" step="26" data-x="41600" data-y="0"><p>bad example (asyncio-redis):</p><pre class="highlight code python"><span class="k">yield from</span> <span class="p">(</span><span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="n">smembers</span><span class="p">(</span><span class="s">'name'</span><span class="p">))</span><span class="o">.</span><span class="n">asset</span><span class="p">()</span></pre><p>good example:</p><pre class="highlight code python"><span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">redis</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="s">'name'</span><span class="p">):</span>
    <span class="n">key</span> <span class="o">=</span> <span class="k">yield from</span> <span class="n">future</span><span class="p">()</span></pre></div><div class="step" step="27" data-x="43200" data-y="0"><h1 id="common-bugs">Common Bugs</h1></div><div class="step" step="28" data-x="44800" data-y="0"><p>Async task:</p><pre class="highlight code python"><span class="n">Task</span><span class="p">(</span><span class="n">redis</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">))</span></pre></div><div class="step" step="29" data-x="46400" data-y="0"><p>Exception handling:</p><pre class="highlight code python"><span class="k">def</span> <span class="nf">task_wrapper</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield from</span> <span class="n">redis</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s">"Task error"</span><span class="p">)</span>

<span class="n">Task</span><span class="p">(</span><span class="n">task_wrapper</span><span class="p">())</span></pre></div><div class="step" step="30" data-x="48000" data-y="0"><p>Forgetting yield from:</p><pre class="highlight ">PYTHONASYNCIODEBUG=1</pre><pre class="highlight code pycon"><span class="n"></span><span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">coroutine</span><span class="p">(</span><span class="n">a</span><span class="p">)()</span>
<span class="go">&lt;asyncio.tasks.CoroWrapper object at 0x7f5fe4cdbb38&gt;</span></pre></div><div class="step" step="31" data-x="49600" data-y="0"><p>Waiting first completed:</p><pre class="highlight ">done, left = yield from asyncio.wait(map(asyncio.Task, coroutines),
    return_when=asyncio.FIRST_COMPLETED)
for coro in left:
    coro.cancel()</pre></div><div class="step" step="32" data-x="51200" data-y="0"><h1 id="rewrite-everything">Rewrite Everything</h1></div><div class="step" step="33" data-x="52800" data-y="0"><h1 id="special-methods">Special Methods</h1></div><div class="step" step="34" data-x="54400" data-y="0"><h1 id="asyncio-vs-gevent">asyncio vs gevent</h1></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Left, Down, Page Down</th><td>Next slide</td></tr><tr><th>Right, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>